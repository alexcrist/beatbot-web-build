(this.webpackJsonp=this.webpackJsonp||[]).push([[5],{639:function(t,e,n){"use strict";n.r(e);var r,i,a,o,c,s,u,l=n(11),b=n.n(l),d=n(59),h=n.n(d),j=n(25),f=n(12),p=n(1),O=n(54),x=n(122),g=n(75),m=n(2),w=f.a.View(r||(r=b()(["\n  align-items: center;\n  flex: 1;\n  width: 100%;\n  margin-bottom: ","px;\n  justify-content: space-between;\n"])),3*p.bb+p.L),y=f.a.Text(i||(i=b()(["\n  color: ",";\n  text-align: center;\n  font-family: ",";\n  font-size: ","px;\n"])),p.k.DARK,p.gb,p.z),v=f.a.View(a||(a=b()(["\n  padding-horizontal: ","px;\n  width: 100%;\n  align-items: center;\n"])),p.bb),D=Object(f.a)(O.a)(o||(o=b()(["\n"]))),E=function(){return Object(m.jsxs)(w,{children:[Object(m.jsx)(y,{children:"Your library is empty"}),Object(m.jsx)(x.a,{isAnimating:!0,animationDuration:15e3,lineColors:p.A}),Object(m.jsx)(v,{children:Object(m.jsx)(D,{text:"Make a recording",onPress:function(){Object(g.a)("Record")}})})]})},k=n(9),V=n.n(k),P=n(446),T=n(0),A=n.n(T),I=n(185),L=n(42),S=n(109),R=n(188),G=n(8),H=n.n(G),C=n(18),M=n(63);function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){H()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var K,N,W,F,J,U,Z,q,Y,Q,X,$=f.a.View(c||(c=b()(["\n  width: 100%;\n  justify-content: center;\n  margin-top: ","px;\n"])),p.Z),_=f.a.View(s||(s=b()(["\n  width: ","px;\n  justify-content: space-around;\n  flex-direction: row;\n  align-items: center;\n  height: ","px;\n"])),(function(t){return t.width}),3*p.E),tt=f.a.View(u||(u=b()(["\n  width: ","px;\n  height: ","px;\n  border-radius: ","px;\n  background-color: ",";\n"])),p.E,p.E,p.E/2,(function(t){return t.color})),et=C.a.createAnimatedComponent(tt),nt=function(t,e,n,r,i,a){var o=i%p.k.HIGHLIGHTS.length,c=p.k.HIGHLIGHTS[o],s=Math.ceil(e/(a-1)*(r-1)),u=Math.floor(n/(a-1)*(r-1));u=Math.max(u,s);for(var l=s;l<=u;l++)t[l]=c},rt=A.a.memo((function(t){var e=t.beatStarts,n=t.beatEnds,r=t.classifications,i=t.volumeLength,a=t.duration,o=t.isPlaying,c=Object(T.useState)(null),s=V()(c,2),u=s[0],l=s[1],b=Object(T.useRef)([]).current,d=Object(T.useMemo)((function(){if(!u)return{dotColors:[],dotsWidth:"100%",numDots:0};var t=Math.floor((u.width-p.D)/(p.E+p.D)),a=t*p.E+(t+1)*p.D;b.slice(0,b.length);for(var o=0;o<t;o++)b.push(new C.a.Value(p.E));for(var c=[],s=0;s<t;s++)c.push(p.k.LIGHT);for(var l=0;l<e.length;l++)nt(c,e[l],n[l],t,r[l],i);return{dotColors:c,dotsWidth:a,numDots:t}}),[u,e,n,r,i]),h=d.dotColors,j=d.dotsWidth,f=d.numDots;Object(T.useEffect)((function(){o?y():v()}),[o]);var O=Object(T.useState)(null),x=V()(O,2),g=x[0],w=x[1],y=function(){for(var t=a/f*1e3,e=[],n=function(n){var r=[{toValue:p.E,duration:n*t},{toValue:3*p.E,duration:2*t},{toValue:p.E,duration:2*t}].filter((function(t){return t.duration>0})).map((function(t){return C.a.timing(b[n],B(B({},t),{},{useNativeDriver:p.a,easing:M.a.linear}))}));e.push(C.a.sequence(r))},r=0;r<f;r++)n(r);var i=C.a.parallel(e);i.start(),w(i)},v=function(){if(g){g.stop();for(var t=[],e=0;e<f;e++)t.push(C.a.timing(b[e],{toValue:p.E,duration:0,useNativeDriver:p.a}));C.a.parallel(t).start()}};return Object(m.jsx)($,{onLayout:function(t){var e=t.nativeEvent.layout,n=e.width,r=e.height;l({width:n,height:r})},children:Object(m.jsx)(_,{width:j,children:h.map((function(t,e){return Object(m.jsx)(et,{color:t,style:{height:b[e]}},"dot-"+e)}))})})})),it=f.a.TouchableOpacity(K||(K=b()(["\n  width: 100%;\n"]))),at=f.a.View(N||(N=b()(["\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n"]))),ot=f.a.View(W||(W=b()(["\n  flex: 1;\n  align-items: flex-start;\n"]))),ct=f.a.Text(F||(F=b()(["\n  color: ",";\n  font-size: ","px;\n  font-family: ",";\n  line-height: ","px;\n  margin-bottom: ","px;\n"])),p.k.DARK,p.ab,p.gb,p.ab,p.Z),st=f.a.Text(J||(J=b()(["\n  color: ",";\n  font-size: ","px;\n  font-family: ",";\n  line-height: ","px;\n"])),p.k.DARK,p.ab,p.v,p.ab),ut=f.a.TouchableOpacity(U||(U=b()(["\n  width: ","px;\n  height: ","px;\n  border-radius: ","px;\n  background-color: ",";\n  align-items: center;\n  justify-content: center;\n"])),p.B,p.B,p.B/2,(function(t){return t.isPlaying?p.k.DARK:p.k.LIGHT})),lt=function(t){var e=t.recording,n=e.storageId,r=e.name,i=e.createdEpoch,a=e.inputAudio,o=a.rate,c=a.channels,s=a.data,u=a.duration,l=e.beatbotData,b=l.volume,d=l.beatStarts,h=l.beatEnds,f=l.classifications,O=Object(T.useMemo)((function(){return Object(I.a)(s,o,c)}),[e]),x=Object(j.b)(),w=Object(T.useState)(!1),y=V()(w,2),v=y[0],D=y[1],E=Object(T.useState)(null),k=V()(E,2),A=k[0],G=k[1];return Object(m.jsxs)(it,{onPress:function(){x(Object(L.f)(!0)),Object(g.a)("Editor"),Object(S.selectRecordingById)(n),x(Object(L.f)(!1))},children:[Object(m.jsxs)(at,{children:[Object(m.jsxs)(ot,{children:[Object(m.jsx)(ct,{children:r}),Object(m.jsxs)(st,{children:[Object(R.b)(Math.round(u)),"\xa0\xa0\xa0\xa0\xa0",Object(R.a)(i)]})]}),Object(m.jsx)(ut,{onPress:function(){if(v)O.load(),clearTimeout(A),D(!1);else{O.play();var t=setTimeout((function(){return D(!1)}),1e3*u);G(t),D(!0)}},isPlaying:v,children:Object(m.jsx)(P.a,{color:v?p.k.BACKGROUND:p.k.DARK,size:p.C,name:v?"stop":"play",solid:!0})})]}),Object(m.jsx)(at,{children:Object(m.jsx)(rt,{beatStarts:d,beatEnds:h,classifications:f,volumeLength:b.length,duration:u,isPlaying:v})})]})},bt=f.a.View(Z||(Z=b()(["\n  flex: 1;\n  background-color: ","; \n  align-items: center;\n"])),p.k.BACKGROUND),dt=f.a.FlatList(q||(q=b()(["\n  width: 100%;\n  max-width: 900px;\n  padding-horizontal: ","px;\n"])),p.bb),ht=f.a.View(Y||(Y=b()(["\n  width: 100%;\n"]))),jt=f.a.View(Q||(Q=b()(["\n  width: 100%;\n  height: 2px;\n  border-radius: 1px;\n  background-color: ",";\n  margin-vertical: ","px;\n"])),p.k.LIGHT,p.bb),ft=f.a.View(X||(X=b()(["\n  width: 100%;\n  height: ","px;\n"])),2*p.bb+p.L);e.default=function(){var t=Object(j.c)((function(t){return t.recordings.recordings}));return t=h()(t).filter((function(t){return!t.isDeleted})).sortBy((function(t){return-t.createdEpoch})).value(),Object(m.jsx)(bt,{children:0===t.length?Object(m.jsx)(E,{}):Object(m.jsx)(dt,{data:t,keyExtractor:function(t,e){return""+e+t.storageId},renderItem:function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ht,{children:Object(m.jsx)(lt,{recording:e.item})}),e.index===t.length-1?Object(m.jsx)(ft,{}):Object(m.jsx)(jt,{})]})}})})}}}]);
//# sourceMappingURL=5.8fa3baff.chunk.js.map